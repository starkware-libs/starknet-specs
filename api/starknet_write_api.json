{
    "openrpc": "1.0.0-rc1",
    "info": {
        "version": "0.4.0",
        "title": "StarkNet Node Write API",
        "license": {}
    },
    "servers": [],
    "methods": [
        {
            "name": "starknet_addInvokeTransaction",
            "summary": "Submit a new transaction to be added to the chain",
            "params": [
                {
                    "name": "invoke_transaction",
                    "description": "The information needed to invoke the function (or account, for version 1 transactions)",
                    "required": true,
                    "schema": {
                        "$ref": "#/components/schemas/INVOKE_TXN"
                    }
                }
            ],
            "result": {
                "name": "result",
                "description": "The result of the transaction submission",
                "schema": {
                    "type": "object",
                    "properties": {
                        "transaction_hash": {
                            "title": "The hash of the invoke transaction",
                            "$ref": "#/components/schemas/TXN_HASH"
                        }
                    }
                }
            },
            "errors": []
        },
        {
            "name": "starknet_addDeclareTransaction",
            "summary": "Submit a new class declaration transaction",
            "params": [
                {
                    "name": "declare_transaction",
                    "description": "Declare transaction required to declare a new class on Starknet",
                    "required": true,
                    "schema": {
                        "oneOf": [
                            {
                                "type": "object",
                                "title": "declare v1 txn",
                                "properties": {
                                    "transaction_hash": {
                                        "title": "declare v1 txn properties",
                                        "$ref": "#/components/schemas/DECLARE_TXN_V1"
                                    },
                                    "contract_class": {
                                        "title": "Contract class",
                                        "description": "The class to be declared",
                                        "$ref": "#/components/schemas/DEPRECATED_CONTRACT_CLASS"
                                    }
                                }
                            },
                            {
                                "type": "object",
                                "title": "declare v2 txn",
                                "properties": {
                                    "transaction_hash": {
                                        "title": "declare v2 txn properties",
                                        "$ref": "#/components/schemas/DECLARE_TXN_V2"
                                    },
                                    "contract_class": {
                                        "title": "Contract class",
                                        "description": "The class to be declared",
                                        "$ref": "#/components/schemas/CONTRACT_CLASS"
                                    }
                                }
                            }
                        ]
                    }
                }
            ],
            "result": {
                "name": "result",
                "description": "The result of the transaction submission",
                "schema": {
                    "type": "object",
                    "properties": {
                        "transaction_hash": {
                            "title": "The hash of the declare transaction",
                            "$ref": "#/components/schemas/TXN_HASH"
                        },
                        "class_hash": {
                            "title": "The hash of the declared class",
                            "$ref": "#/components/schemas/FELT"
                        }
                    }
                }
            },
            "errors": [
                {
                    "$ref": "#/components/errors/INVALID_CONTRACT_CLASS"
                },
                {
                    "$ref": "#/components/errors/CLASS_ALREADY_DECLARED"
                }
            ]
        },
        {
            "name": "starknet_addDeployAccountTransaction",
            "summary": "Submit a new deploy account transaction",
            "params": [
                {
                    "name": "deploy_account_transaction",
                    "description": "The deploy account transaction",
                    "required": true,
                    "schema": {
                        "$ref": "#/components/schemas/DEPLOY_ACCOUNT_TXN"
                    }
                }
            ],
            "result": {
                "name": "result",
                "description": "The result of the transaction submission",
                "schema": {
                    "type": "object",
                    "properties": {
                        "transaction_hash": {
                            "title": "The hash of the deploy transaction",
                            "$ref": "#/components/schemas/TXN_HASH"
                        },
                        "contract_address": {
                            "title": "The address of the new contract",
                            "$ref": "#/components/schemas/FELT"
                        }
                    }
                }
            },
            "errors": [
                {
                    "$ref": "#/components/errors/CLASS_HASH_NOT_FOUND"
                }
            ]
        }
    ],
    "components": {
        "contentDescriptors": {},
        "schemas": {
            "CONTRACT_CLASS": {
                "$ref": "./api/starknet_api_openrpc.json#/components/schemas/CONTRACT_CLASS"
            },
            "NUM_AS_HEX": {
                "title": "An integer number in hex format (0x...)",
                "type": "string",
                "pattern": "^0x[a-fA-F0-9]+$"
            },
            "SIGNATURE": {
                "$ref": "./api/starknet_api_openrpc.json#/components/schemas/SIGNATURE"
            },
            "FELT": {
                "$ref": "./api/starknet_api_openrpc.json#/components/schemas/FELT"
            },
            "TXN_HASH": {
                "$ref": "./api/starknet_api_openrpc.json#/components/schemas/TXN_HASH"
            },
            "INVOKE_TXN": {
                "$ref": "./api/starknet_api_openrpc.json#/components/schemas/INVOKE_TXN"
            },
            "DECLARE_TXN_V1": {
                "$ref": "./api/starknet_api_openrpc.json#/components/schemas/DECLARE_TXN_V1"
            },
            "DECLARE_TXN_V2": {
                "$ref": "./api/starknet_api_openrpc.json#/components/schemas/DECLARE_TXN_V2"
            },
            "DEPLOY_ACCOUNT_TXN": {
                "$ref": "./api/starknet_api_openrpc.json#/components/schemas/DEPLOY_ACCOUNT_TXN"
            },
            "FUNCTION_CALL": {
                "$ref": "./api/starknet_api_openrpc.json#/components/schemas/FUNCTION_CALL"
            }
        },
        "errors": {
            "INVALID_CONTRACT_CLASS": {
                "code": 50,
                "message": "Invalid contract class"
            },
            "CLASS_HASH_NOT_FOUND": {
                "$ref": "./api/starknet_api_openrpc.json#/components/errors/CLASS_HASH_NOT_FOUND"
            },
            "CLASS_ALREADY_DECLARED": {
                "code": 51,
                "message": "Class already declared"
            }
        }
    }
}
